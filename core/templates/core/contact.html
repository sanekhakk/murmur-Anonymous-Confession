{% extends 'core/base.html' %}

{% block content %}
<div class="contact-page">
    <section class="hero">
        <h1>Get in <span>Touch</span></h1>
        <p>We're here to help with any questions, concerns, or feedback about your Murmr experience.</p>
    </section>

    <div class="contact-container">
        <div class="contact-grid">
         <!-- Contact Form -->
            <div class="contact-form-section">
                <div class="contact-form-card">
                    <div id="success-message" class="success-message" style="display: none;">
                        <p>‚úÖ Thank you for your message! We'll get back to you within 24 hours.</p>
                    </div>
        
                    <form id="contact-form" action="https://formspree.io/f/mvgqydjk" method="POST">

                    <div class="form-group">
                        <label for="email">Email Address (Optional)</label>
                        <input type="email" name="email" id="email" placeholder="your@email.com">
                        <small class="form-hint">Leave blank to remain completely anonymous</small>
                    </div>

                    <div class="form-group">
                        <label for="subject">Subject</label>
                        <input type="text" name="subject" id="subject" placeholder="Brief description of your inquiry" required>
                    </div>

                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea name="message" id="message" placeholder="Please provide details about your inquiry..." required></textarea>
                    </div>

                    <!-- Hidden fields for Formspree -->
                    <input type="hidden" name="_subject" value="New Contact Form Submission - murmur">
                    <input type="hidden" name="_next" value="{{ request.build_absolute_uri }}?success=1">

                    <button type="submit" class="cta-button primary" style="width: 100%;">Send Message</button>
                    </form>
                </div>
            </div>

            <!-- Contact Info -->
            <div class="contact-info-section">
                <div class="contact-method">
                    <div class="contact-icon">üìß</div>
                    <div class="contact-details">
                        <h3>Email Support</h3>
                    </div>
                </div>

                <div class="contact-method">
                    <div class="contact-icon">üö®</div>
                    <div class="contact-details">
                         <h3>Report Abuse</h3>
                    </div>
                </div>

                <div class="contact-method">
                    <div class="contact-icon">ü§ù</div>
                    <div class="contact-details">
                        <h3>Business Inquiries</h3>
                    </div>
                </div>

      <div class="contact-method">
        <div class="contact-icon">üîí</div>
        <div class="contact-details">
          <h3>Privacy Officer</h3>
        </div>
      </div>

      <div class="response-time-card">
        <h4>‚ö° Response Time</h4>
        <p>We typically respond within 24 hours. Urgent safety matters are prioritized.</p>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="faq-section">
    <h2 class="section-title">Frequently Asked Questions</h2>
    
    <div class="faq-list">
      <div class="faq-item">
        <div class="faq-question" onclick="toggleFAQ(this)">
          <span>üîê How do you protect my anonymity when I contact you?</span>
          <span class="faq-toggle">+</span>
        </div>
        <div class="faq-answer">
          Your contact form submissions are encrypted and handled with the same privacy standards as our confessions. 
          If you don't provide an email, your inquiry remains completely anonymous.
        </div>
      </div>


      <div class="faq-item">
        <div class="faq-question" onclick="toggleFAQ(this)">
          <span>üêõ I found a bug or technical issue. How do I report it?</span>
          <span class="faq-toggle">+</span>
        </div>
        <div class="faq-answer">
          Describe what happened, what browser you're using,
          and any error messages you saw.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-question" onclick="toggleFAQ(this)">
          <span>üí° Can I suggest new features for Whispr?</span>
          <span class="faq-toggle">+</span>
        </div>
        <div class="faq-answer">
          Absolutely! We love hearing ideas from our community. tell us what would make your Whispr experience better.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-question" onclick="toggleFAQ(this)">
          <span>üö´ How do I delete my confession or account?</span>
          <span class="faq-toggle">+</span>
        </div>
        <div class="faq-answer">
          Since confessions are anonymous by design, we can't identify specific posts to delete. 
          Contact us  if you have specific requests about your data.
        </div>
      </div>
    </div>
  </div>
</div>
</div>

{% endblock %}

{% block scripts %}
  <script>
  // Hide all FAQ answers on page load
  document.querySelectorAll('.faq-answer').forEach(answer => {
    answer.style.display = 'none';
  });

  function toggleFAQ(element) {
    const faqItem = element.parentElement;
    const answer = faqItem.querySelector('.faq-answer');
    const toggle = element.querySelector('.faq-toggle');
    
    // Close all other FAQs
    document.querySelectorAll('.faq-item').forEach(item => {
      if (item !== faqItem) {
        item.classList.remove('active');
        item.querySelector('.faq-answer').style.display = 'none';
        item.querySelector('.faq-toggle').textContent = '+';
      }
    });
    
    // Toggle current FAQ
    if (faqItem.classList.contains('active')) {
      faqItem.classList.remove('active');
      answer.style.display = 'none';
      toggle.textContent = '+';
    } else {
      faqItem.classList.add('active');
      answer.style.display = 'block';
      toggle.textContent = '‚àí';
    }
  }
</script>

{% endblock %}